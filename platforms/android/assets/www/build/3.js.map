{"version":3,"sources":["../../src/pages/book-bookmark/book-bookmark.module.ts","../../src/pages/book-bookmark/book-bookmark.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { BookBookmarkPage } from './book-bookmark';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BookBookmarkPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(BookBookmarkPage),\r\n  ],\r\n})\r\nexport class BookBookmarkPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/book-bookmark/book-bookmark.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\r\nimport { Facebook } from '@ionic-native/facebook';\r\nimport firebase from 'firebase';\r\nimport { BookDetailPage } from '../book-detail/book-detail';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-book-bookmark',\r\n  templateUrl: 'book-bookmark.html',\r\n})\r\nexport class BookBookmarkPage {\r\n  FBData: any;\r\n  result: any;\r\n  objResult: any;\r\n  userIDs: any;\r\n\r\n  result2: any;\r\n  objResult2: any;\r\n  regex: any = /\\-/gi;\r\n  isHaveBookmark: boolean;\r\n  loggedin:boolean = false;\r\n  userProfile: any = null;\r\n  isGoogleLogin: boolean = false;\r\n  isFacebookLogin: boolean = false;\r\n\r\n  dataFavourite: any;\r\n  dataFavourite2: Array<any> = [];\r\n\r\n  BookmarkBook: AngularFireList<any>;\r\n  myBookmark: Array<any> = [];\r\n  bookmarkRef: firebase.database.Reference = firebase.database().ref(`/Bookmark-book`);\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public afDatabase: AngularFireDatabase, public fb: Facebook, public gPlus: GooglePlus) {\r\n    this.BookmarkBook  = afDatabase.list('/Bookmark-book');\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('===> BookBookmarkPage Loaded');\r\n    this.getMyBookmark();\r\n    this.getMyBookmarkGooglePlus();\r\n  }\r\n\r\n  getMyBookmark(){\r\n    this.fb.getLoginStatus().then(res => {\r\n      if(res.status == 'connect' || res.status == 'connected'){\r\n        firebase.auth().onAuthStateChanged(user => {\r\n          console.log(\"==========================\");\r\n          console.log(\" FACEBOOK BOOKMARK CHECK  \");\r\n          console.log(\"--------------------------\");\r\n          this.FBData = user;\r\n          console.log(\"User Detected. Data facebook Login for this user:\", this.FBData);\r\n          this.loggedin = true;\r\n          this.isFacebookLogin = true;\r\n          this.userIDs      = this.FBData.uid;\r\n          console.log('=> User ID Facebook:', this.userIDs);\r\n\r\n          this.bookmarkRef.orderByChild(\"userID\").equalTo(this.userIDs).on('value', dataFavourite => {\r\n            this.myBookmark = [];\r\n            dataFavourite.forEach(dataFv => {\r\n              this.myBookmark.push(dataFv.val());\r\n              return false;\r\n            });\r\n\r\n            if(this.myBookmark){\r\n              console.log('=> Bookmark Found. Count the Data :', this.myBookmark.length);\r\n              console.log('=> The Data is :', this.myBookmark);\r\n              this.isHaveBookmark = true;\r\n            }\r\n            else{\r\n              console.log(\"=> No Bookmark Data for this user\", this.myBookmark.length);\r\n              this.isHaveBookmark = false;\r\n            }\r\n          });\r\n          console.log(\"==========================\");\r\n        });\r\n      }\r\n    }).catch(err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  getMyBookmarkGooglePlus(){\r\n    this.gPlus.trySilentLogin({}).then(stats => {\r\n      if(stats){\r\n        console.log(\"============================\");\r\n        console.log(\" GOOGLE PLUS BOOKMARK CHECK \");\r\n        console.log(\"----------------------------\");\r\n        this.loggedin  = true;\r\n        this.isGoogleLogin = true;\r\n        this.userProfile = stats;\r\n        console.log('==> Waiting data for (Google Plus) login user .....', this.userProfile);\r\n\r\n        this.userIDs = this.userProfile.userId;\r\n        console.log(\"==> User ID Google Plus\", this.userIDs);\r\n\r\n        this.bookmarkRef.orderByChild(\"userID\").equalTo(this.userIDs).on('value', dataFavourite => {\r\n          this.myBookmark = [];\r\n          dataFavourite.forEach(dataFv => {\r\n            this.myBookmark.push(dataFv.val());\r\n            return false;\r\n          });\r\n\r\n          if(this.myBookmark){\r\n            console.log('=> Bookmark Found. Count the Data :', this.myBookmark.length);\r\n            console.log('=> The Data is :', this.myBookmark);\r\n            this.isHaveBookmark = true;\r\n          }\r\n          else{\r\n            console.log(\"=> No Bookmark Data for this user\", this.myBookmark.length);\r\n            this.isHaveBookmark = false;\r\n          }\r\n        });\r\n        console.log(\"============================\");\r\n      } else {\r\n        console.log(\"============================\");\r\n        console.log(\" GOOGLE PLUS BOOKMARK CHECK \");\r\n        console.log(\"----------------------------\");\r\n        console.log('==> Hmmm, data for  (Google Plus) Login Not Found .....');\r\n        this.isGoogleLogin  = false;\r\n        this.loggedin  = false;\r\n        console.log('=> isGoogleLogin status', this.isGoogleLogin);\r\n        console.log(\"============================\");\r\n      }\r\n    }).catch(error => {\r\n      // this.userProfile = null;\r\n      // this.loggedin    = false;\r\n      console.log(\"============================\");\r\n      console.log(\" GOOGLE PLUS BOOKMARK CHECK \");\r\n      console.log(\"----------------------------\");\r\n      console.log('==> Google Plus Login Status :: DISCONNECTED');\r\n      this.isGoogleLogin  = false;\r\n      console.log('=> isGoogleLogin status', this.isGoogleLogin);\r\n      console.log(\"============================\");\r\n    });\r\n  }\r\n\r\n  showDetailBook(book) {\r\n    console.log('=> show detail book', book);\r\n    this.navCtrl.push(BookDetailPage, {\r\n      book: book\r\n    });\r\n  }\r\n\r\n  doRefresh(refresher) {\r\n    console.log('Begin async operation', refresher);\r\n    this.getMyBookmark()\r\n    this.getMyBookmarkGooglePlus();\r\n    setTimeout(() => {\r\n      this.getMyBookmark()\r\n      this.getMyBookmarkGooglePlus();\r\n      console.log('Async operation has ended');\r\n      refresher.complete();\r\n    }, 2000);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/book-bookmark/book-bookmark.ts"],"sourceRoot":""}
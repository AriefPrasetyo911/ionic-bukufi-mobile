{"version":3,"sources":["../../src/pages/book-favourite/book-favourite.module.ts","../../src/pages/book-favourite/book-favourite.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { BookFavouritePage } from './book-favourite';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BookFavouritePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(BookFavouritePage),\r\n  ],\r\n})\r\nexport class BookFavouritePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/book-favourite/book-favourite.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Facebook } from '@ionic-native/facebook';\r\nimport firebase from 'firebase';\r\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\r\nimport { GooglePlus } from '@ionic-native/google-plus';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-book-favourite',\r\n  templateUrl: 'book-favourite.html',\r\n})\r\nexport class BookFavouritePage {\r\n\r\n  FavouriteBook: AngularFireList<any>;\r\n\r\n  public myFav: Array<any> = [];\r\n  public favoRef: firebase.database.Reference = firebase.database().ref(`/Favourite-book`);\r\n  \r\n  FBData: any;\r\n  loggedin:boolean = false;\r\n  isGoogleLogin: boolean = false;\r\n  isFacebookLogin: boolean = false;\r\n  isHaveFavourite: boolean;\r\n  userProfile: any = null;\r\n  userIDs: any;\r\n  regex: any = /\\-/gi;\r\n\r\n  // favBookChecker: any;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public fb: Facebook, public afDatabase: AngularFireDatabase, public gPlus: GooglePlus) {\r\n    this.FavouriteBook  = afDatabase.list('/Favourite-book');\r\n    this.getFavouriteBook();\r\n    this.getMyFavouriteGooglePlus();\r\n\r\n    // this.favBookChecker = this.navParams.get('isFacebookLogin')\r\n    // console.log(\"==> isFacebookLogin Parameter Value\", this.favBookChecker);\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('===> BookFavouritePage Loaded');\r\n  }\r\n\r\n  getFavouriteBook(){\r\n    this.fb.getLoginStatus().then(res => {\r\n      if(res.status == 'connect' || res.status == 'connected'){\r\n\r\n        firebase.auth().onAuthStateChanged(user => {\r\n          console.log(\"==========================\");\r\n          console.log(\" FACEBOOK FAVOURITE CHECK  \");\r\n          console.log(\"--------------------------\");\r\n          this.FBData = user;\r\n          console.log(\"User Detected. Data facebook Login for this user:\", this.FBData);\r\n          this.loggedin = true;\r\n          this.isFacebookLogin = true;\r\n          this.userIDs      = this.FBData.uid;\r\n          console.log('=> User ID Facebook:', this.userIDs);\r\n\r\n          this.favoRef.orderByChild(\"userID\").equalTo(this.userIDs).on('value', dataFavourite => {\r\n            this.myFav = [];\r\n            dataFavourite.forEach(dataFv => {\r\n              this.myFav.push(dataFv.val());\r\n              return false;\r\n            });\r\n\r\n            if(this.myFav){\r\n              console.log('=> Favourite Found. Count the data now :', this.myFav.length);\r\n              console.log('=> The Data is :', this.myFav);\r\n              this.isHaveFavourite = true;\r\n            }\r\n            else{\r\n              console.log(\"=> No Favourite Data for this user\", this.myFav.length);\r\n              this.isHaveFavourite = false;\r\n            }\r\n          });\r\n          console.log(\"==========================\");\r\n        });\r\n      }\r\n    }).catch(err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  getMyFavouriteGooglePlus(){\r\n    this.gPlus.trySilentLogin({}).then(stats => {\r\n      if(stats){\r\n        console.log(\"=============================\");\r\n        console.log(\" GOOGLE PLUS FAVOURITE CHECK \");\r\n        console.log(\"-----------------------------\");\r\n        this.loggedin  = true;\r\n        this.isGoogleLogin = true;\r\n        this.userProfile = stats;\r\n        console.log('==> Waiting data for (Google Plus) login user .....', this.userProfile);\r\n\r\n        this.userIDs = this.userProfile.userId;\r\n        console.log(\"==> User ID Google Plus\", this.userIDs);\r\n\r\n        this.favoRef.orderByChild(\"userID\").equalTo(this.userIDs).on('value', dataFavourite => {\r\n          this.myFav = [];\r\n          dataFavourite.forEach(dataFv => {\r\n            this.myFav.push(dataFv.val());\r\n            return false;\r\n          });\r\n\r\n          if(this.myFav){\r\n            console.log('=> Bookmark Found. Count the Data :', this.myFav.length);\r\n            console.log('=> The Data is :', this.myFav);\r\n            this.isHaveFavourite = true;\r\n          }\r\n          else{\r\n            console.log(\"=> No Bookmark Data for this user\", this.myFav.length);\r\n            this.isHaveFavourite = false;\r\n          }\r\n        });\r\n        console.log(\"=============================\");\r\n      } else {\r\n        console.log(\"=============================\");\r\n        console.log(\" GOOGLE PLUS FAVOURITE CHECK \");\r\n        console.log(\"-----------------------------\");\r\n        console.log('==> Hmmm, data for  (Google Plus) Login Not Found .....');\r\n        this.isGoogleLogin  = false;\r\n        this.loggedin  = false;\r\n        console.log('=> isGoogleLogin status', this.isGoogleLogin);\r\n        console.log(\"=============================\");\r\n      }\r\n    }).catch(error => {\r\n      // this.userProfile = null;\r\n      // this.loggedin    = false;\r\n      console.log(\"=============================\");\r\n      console.log(\" GOOGLE PLUS FAVOURITE CHECK \");\r\n      console.log(\"-----------------------------\");\r\n      console.log('==> Google Plus Login Status :: DISCONNECTED');\r\n      this.isGoogleLogin  = false;\r\n      console.log('=> isGoogleLogin status', this.isGoogleLogin);\r\n      console.log(\"=============================\");\r\n    });\r\n  }\r\n\r\n  doRefresh(refresher) {\r\n      console.log('Begin async operation', refresher);\r\n      this.getFavouriteBook();\r\n      this.getMyFavouriteGooglePlus();\r\n      setTimeout(() => {\r\n        this.getFavouriteBook();\r\n        this.getMyFavouriteGooglePlus();\r\n        console.log('Async operation has ended');\r\n        refresher.complete();\r\n      }, 2000);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/book-favourite/book-favourite.ts"],"sourceRoot":""}